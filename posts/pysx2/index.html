<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=2"><meta name=robots content="noodp"><title>Python 实训总结Ⅱ | 菠菜眾長</title><meta name=author content="Lruihao">
<meta name=description content=" 后面几天讲的有点杂，简单记录一下知识点。
"><meta name=keywords content='Python'><meta itemprop=name content="python 实训总结Ⅱ"><meta itemprop=description content="后面几天讲的有点杂，简单记录一下知识点。"><meta itemprop=datePublished content="2019-06-21T18:46:41+08:00"><meta itemprop=dateModified content="2023-12-08T20:26:13+08:00"><meta itemprop=wordCount content="5661"><meta itemprop=image content="https://lruihao.cn/images/apple-devices-preview.webp"><meta itemprop=keywords content="python"><meta property="og:url" content="https://lruihao.cn/posts/pysx2/"><meta property="og:site_name" content="菠菜眾長"><meta property="og:title" content="python 实训总结Ⅱ"><meta property="og:description" content="后面几天讲的有点杂，简单记录一下知识点。"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-06-21T18:46:41+08:00"><meta property="article:modified_time" content="2023-12-08T20:26:13+08:00"><meta property="article:tag" content="python"><meta property="og:image" content="https://lruihao.cn/images/apple-devices-preview.webp"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://lruihao.cn/images/apple-devices-preview.webp"><meta name=twitter:title content="python 实训总结Ⅱ"><meta name=twitter:description content="后面几天讲的有点杂，简单记录一下知识点。"><meta name=application-name content="菠菜眾長"><meta name=apple-mobile-web-app-title content="菠菜眾長"><meta name=theme-color data-light=#ffffff data-dark=#252627 content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical type=text/html href=https://lruihao.cn/posts/pysx2/ title="python 实训总结Ⅱ | 菠菜眾長"><link rel=prev type=text/html href=https://lruihao.cn/posts/pysx1/ title="python 实训总结Ⅰ"><link rel=next type=text/html href=https://lruihao.cn/posts/wamproot/ title="WAMPServer 自定义网站根目录等设置"><link rel=alternate type=text/markdown href=https://lruihao.cn/posts/pysx2/index.md title="python 实训总结Ⅱ | 菠菜眾長"><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://unpkg.com/@fortawesome/fontawesome-free@6.7.1/css/all.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/@fortawesome/fontawesome-free@6.7.1/css/all.min.css></noscript><link rel=preload href=https://unpkg.com/animate.css@4.1.1/animate.min.css as=style onload='this.removeAttribute("onload"),this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://unpkg.com/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"python 实训总结Ⅱ","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/lruihao.cn\/posts\/pysx2\/"},"image":[{"@type":"ImageObject","url":"https:\/\/lruihao.cn\/images\/apple-devices-preview.webp","width":2880,"height":1508}],"genre":"posts","keywords":"Python","wordcount":5661,"url":"https:\/\/lruihao.cn\/posts\/pysx2\/","datePublished":"2019-06-21T18:46:41+08:00","dateModified":"2023-12-08T20:26:13+08:00","license":"本站内容采用 CC BY-NC-SA 4.0 国际许可协议。","publisher":{"@type":"Organization","name":"Lruihao","logo":"https:\/\/lruihao.cn\/images\/avatar.jpg"},"author":{"@type":"Person","name":"Lruihao"},"description":""}</script><script src=/js/head/color-scheme.min.js></script></head><body data-header-desktop=sticky data-header-mobile=auto><div class=wrapper data-page-style=normal><header class="desktop animate__faster" id=header-desktop><div class=header-wrapper data-github-corner=right><div class=header-title><a href=/ title=菠菜眾長><img class=logo src=/logo.webp alt=菠菜眾長 height=32 width=32><span class=header-title-text>菠菜众长</span></a><span class=header-subtitle>李瑞豪的博客</span></div><nav><ul class=menu><li class="menu-item has-children"><a class=menu-link href=/archives/><i class="fa-solid fa-feather fa-fw fa-sm" aria-hidden=true></i> 文章</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/collections/><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> 合集</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class=menu-item-divider aria-hidden=true></li><li class=menu-item><a class=menu-link href=https://fixit.lruihao.cn/ title="FixIt 官网" rel="noopener noreferrer" target=_blank><img class=fixit-icon src=https://fixit.lruihao.cn/images/hugo-fixit.webp alt="FixIt logo"> FixIt <i class="fa-solid fa-external-link-alt fa-fw fa-xs text-secondary"></i></a></li></ul></li><li class=menu-item><a class=menu-link href=/projects/ title=开源项目><i class="fa-solid fa-lightbulb fa-shake fa-fw fa-sm" aria-hidden=true></i> 开源</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/reward/><i class="fa-solid fa-hand-holding-dollar fa-fw fa-sm" aria-hidden=true></i> 赞赏</a></li><li class=menu-item><a class=menu-link href=/guestbook/><i class="fa-solid fa-comment-dots fa-fw fa-sm" aria-hidden=true></i> 留言</a></li><li class=menu-item><a class=menu-link href=/index.xml title="通过 RSS 订阅"><i class="fa-solid fa-rss fa-fw fa-sm" aria-hidden=true></i> RSS</a></li><li class="menu-item has-children"><a class=menu-link href=/about/><i class="fa-solid fa-quote-left fa-fw fa-sm" aria-hidden=true></i> 关于</a><i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i><ul class=sub-menu><li class=menu-item><a class=menu-link href=/years/ title=我的年度总结><i class="fa-regular fa-newspaper fa-fw fa-sm" aria-hidden=true></i> 年度总结</a></li></ul></li><li class="menu-item delimiter"></li><li class="menu-item search" id=search-desktop><input type=text placeholder=搜索文章标题或内容…… id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></li><li class="menu-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></li><li class="menu-item language-switch auto d-none" aria-hidden=true><span role=button aria-label=选择语言 title=选择语言><i class="fa-solid fa-language fa-fw" aria-hidden=true></i></span><ul class=sub-menu><li class="menu-item active" data-type=artificial><a href=/posts/pysx2/ data-lang=zh-CN class="menu-link text-secondary" title=简体中文><i class="fa-solid fa-person fa-fw fa-sm" aria-hidden=true></i> 简体中文</a></li><li class=menu-item-divider aria-hidden=true></li><li class=menu-item data-type=machine><a data-lang=chinese_simplified class=menu-link title=简体中文><i class="fa-solid fa-robot fa-fw fa-sm" aria-hidden=true></i> 简体中文</a></li><li class=menu-item data-type=machine><a data-lang=chinese_traditional class=menu-link title=繁體中文><i class="fa-solid fa-robot fa-fw fa-sm" aria-hidden=true></i> 繁體中文</a></li></ul></li></ul></nav></div></header><header class="mobile animate__faster" id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=菠菜眾長><img class=logo src=/logo.webp alt=菠菜眾長 height=26 width=26><span class=header-title-text>菠菜众长</span></a><span class=header-subtitle>李瑞豪的博客</span></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><nav><ul class=menu id=menu-mobile><li class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容…… id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fa-solid fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fa-solid fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/archives/><i class="fa-solid fa-feather fa-fw fa-sm" aria-hidden=true></i> 文章</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/categories/><i class="fa-solid fa-folder-tree fa-fw fa-sm" aria-hidden=true></i> 分类</a></li><li class=menu-item><a class=menu-link href=/collections/><i class="fa-solid fa-layer-group fa-fw fa-sm" aria-hidden=true></i> 合集</a></li><li class=menu-item><a class=menu-link href=/tags/><i class="fa-solid fa-tags fa-fw fa-sm" aria-hidden=true></i> 标签</a></li><li class="menu-item menu-item-divider" aria-hidden=true></li><li class=menu-item><a class=menu-link href=https://fixit.lruihao.cn/ title="FixIt 官网" rel="noopener noreferrer" target=_blank><img class=fixit-icon src=https://fixit.lruihao.cn/images/hugo-fixit.webp alt="FixIt logo"> FixIt <i class="fa-solid fa-external-link-alt fa-fw fa-xs text-secondary"></i></a></li></ul></li><li class=menu-item><a class=menu-link href=/projects/ title=开源项目><i class="fa-solid fa-lightbulb fa-shake fa-fw fa-sm" aria-hidden=true></i> 开源</a></li><li class=menu-item><a class=menu-link href=/friends/ title=友情链接><i class="fa-solid fa-users fa-fw fa-sm" aria-hidden=true></i> 友链</a></li><li class=menu-item><a class=menu-link href=/reward/><i class="fa-solid fa-hand-holding-dollar fa-fw fa-sm" aria-hidden=true></i> 赞赏</a></li><li class=menu-item><a class=menu-link href=/guestbook/><i class="fa-solid fa-comment-dots fa-fw fa-sm" aria-hidden=true></i> 留言</a></li><li class=menu-item><span class=nested-item><a class=menu-link href=/about/><i class="fa-solid fa-quote-left fa-fw fa-sm" aria-hidden=true></i> 关于</a>
<i class="dropdown-icon fa-solid fa-chevron-right" aria-hidden=true></i></span><ul class=sub-menu><li class=menu-item><a class=menu-link href=/years/ title=我的年度总结><i class="fa-regular fa-newspaper fa-fw fa-sm" aria-hidden=true></i> 年度总结</a></li></ul></li><li class="menu-item text-center"><a class=menu-link href=https://github.com/Lruihao/ rel="noopener noreferrer" target=_blank><i class="fa-brands fa-github fa-lg fa-fw fa-sm" aria-hidden=true></i> 关注 Follow</a></li><li class="menu-item menu-system"><span class="menu-system-item theme-switch" title=切换主题><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></span><span id=translate class="menu-system-item language-switch auto d-none" aria-hidden=true>
<span role=button aria-label=选择语言 title=选择语言 data-current=简体中文>简体中文<i class="dropdown-icon fa-solid fa-chevron-down" aria-hidden=true></i></span></span></li></ul></nav></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><nav aria-label=breadcrumb class="breadcrumb-container sticky"><ol class=breadcrumb><li class=breadcrumb-item data-separator=/><a href=/posts/ title=Posts>文章</a></li><li class="breadcrumb-item active" data-separator=/ aria-current=page>Python 实训总结Ⅱ</li></ol></nav><main class=container><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label=合集><div class=aside-custom><img src=/images/wxmp.webp alt=微信公众号 width=100%></div></aside><article class="page single"><div class=header><h1 class="single-title animate__animated animate__flipInX"><span>Python 实训总结Ⅱ</span></h1></div><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/Lruihao title=作者 target=_blank rel="external nofollow noopener noreferrer author" class=author><img class=avatar src='https://gravatar.loli.net/avatar/fee47a2f4f2cc71f99a02b0a73ecfee0?s=32&d=mp' alt=Lruihao height=16 width=16>&nbsp;Lruihao</a></span><span class=post-included-in>&nbsp;收录于 <a href=/categories/python/ class=post-category title="分类 - Python"><i class="fa-regular fa-folder fa-fw" aria-hidden=true></i> Python</a></span></div><div class=post-meta-line><span title="发布于 2019-06-21 18:46:41"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden=true></i><time datetime=2019-06-21>2019-06-21</time></span>&nbsp;<span title="更新于 2023-12-08 20:26:13"><i class="fa-regular fa-calendar-check fa-fw me-1" aria-hidden=true></i><time datetime=2023-12-08>2023-12-08</time></span>&nbsp;<span title="5661 字"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden=true></i>约 5700 字</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden=true></i>预计阅读 12 分钟</span>&nbsp;<span id=busuanzi_container_page_pv class="busuanzi_visitors comment-visitors" data-flag-title="Python 实训总结Ⅱ"><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_page_pv>-</span>&nbsp;次阅读
</span>&nbsp;</div></div><div class="details toc" id=toc-static data-kept=false><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fa-solid fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ol><li><a href=#619>6.19</a><ol><li><a href=#切片操作><a href=https://www.jianshu.com/p/15715d6f4dad>切片操作</a></a></li><li><a href=#字符串>字符串</a><ol><li><a href=#python-原始字符串>python 原始字符串</a></li><li><a href=#长字符串>长字符串</a></li><li><a href=#用换行字符表示字符未结束>用、换行字符表示字符未结束</a></li></ol></li><li><a href=#格式化输出-format>格式化输出 format</a></li><li><a href=#多变量赋值与交换斐波那契数列>多变量赋值与交换（斐波那契数列）</a></li><li><a href=#笑傲江湖统计字符-dict-文件流>笑傲江湖统计字符 (dict, 文件流）</a></li><li><a href=#numpy-模块>numpy 模块</a></li><li><a href=#pandas-模块>pandas 模块</a></li></ol></li><li><a href=#620>6.20</a><ol><li><a href=#matplotlib-绘图>matplotlib 绘图</a></li><li><a href=#爬虫>爬虫</a></li></ol></li><li><a href=#621>6.21</a><ol><li><a href=#类>类</a></li><li><a href=#gui-设计-wxpython>GUI 设计 <a href=https://blog.csdn.net/mist99/article/details/80742548>wxPython</a></a></li><li><a href=#talib-库的安装>talib 库的安装</a></li><li><a href=#选择排序递归版>选择排序递归版</a></li><li><a href=#机房上机系统自我实践>机房上机系统（自我实践）</a></li><li><a href=#量化交易代码分析与调试>量化交易代码分析与调试</a></li></ol></li></ol></nav></div></div><div class=content id=content data-end-flag="「本文完，更多内容汇总在我的 GitHub，持续更新，求关注、求 star、求订阅！」"><div class="expiration-reminder details admonition warning open"><div class="details-summary admonition-title"><i class="icon fa-solid fa-exclamation-triangle fa-fw" aria-hidden=true></i>警告<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content>本文最后更新于 2023-12-08，文中内容可能已过时。</div></div></div><blockquote><p>后面几天讲的有点杂，简单记录一下知识点。</p></blockquote><h2 id=619 class=heading-element><span>1 6.19</span>
<a href=#619 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><blockquote><p>这些知识点在课上都只是简单的提到了一下。<br>比如一些库的使用与安装都不会再课上详细讲解，需要课后再去研究。</p></blockquote><h3 id=切片操作 class=heading-element><span>1.1 <a href=https://www.jianshu.com/p/15715d6f4dad target=_blank rel="external nofollow noopener noreferrer">切片操作<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></span>
<a href=#%e5%88%87%e7%89%87%e6%93%8d%e4%bd%9c class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>列表切片操作</p><h3 id=字符串 class=heading-element><span>1.2 字符串</span>
<a href=#%e5%ad%97%e7%ac%a6%e4%b8%b2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><h4 id=python-原始字符串 class=heading-element><span>1.2.1 python 原始字符串</span>
<a href=#python-%e5%8e%9f%e5%a7%8b%e5%ad%97%e7%ac%a6%e4%b8%b2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>print(r&#34;D:\three\two&#34;)</span></span></code></pre></td></tr></table></div></div><h4 id=长字符串 class=heading-element><span>1.2.2 长字符串</span>
<a href=#%e9%95%bf%e5%ad%97%e7%ac%a6%e4%b8%b2 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h4><p>用三个单引号或者双引号包裹，前后呼应，成双成对。</p><h4 id=用换行字符表示字符未结束 class=heading-element><span>1.2.3 用、换行字符表示字符未结束</span>
<a href=#%e7%94%a8%e6%8d%a2%e8%a1%8c%e5%ad%97%e7%ac%a6%e8%a1%a8%e7%a4%ba%e5%ad%97%e7%ac%a6%e6%9c%aa%e7%bb%93%e6%9d%9f class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h4><h3 id=格式化输出-format class=heading-element><span>1.3 格式化输出 format</span>
<a href=#%e6%a0%bc%e5%bc%8f%e5%8c%96%e8%be%93%e5%87%ba-format class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><code>"=={}=="</code>，<code>{}</code>表示占位符，其前后字符保持原样输出。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#TempConvert.py</span>
</span></span><span class=line><span class=cl><span class=n>TempStr</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入带有符号的温度值：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=n>TempStr</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;F&#39;</span><span class=p>,</span><span class=s1>&#39;f&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=n>C</span> <span class=o>=</span> <span class=p>(</span><span class=nb>eval</span><span class=p>(</span><span class=n>TempStr</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=o>-</span> <span class=mi>32</span><span class=p>)</span><span class=o>/</span><span class=mf>1.8</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;转换后的温度是</span><span class=si>{:.2f}</span><span class=s2>C&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>C</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>elif</span> <span class=n>TempStr</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span> <span class=ow>in</span> <span class=p>[</span><span class=s1>&#39;C&#39;</span><span class=p>,</span><span class=s1>&#39;c&#39;</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=n>F</span> <span class=o>=</span> <span class=mf>1.8</span><span class=o>*</span><span class=nb>eval</span><span class=p>(</span><span class=n>TempStr</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=o>-</span><span class=mi>1</span><span class=p>])</span> <span class=o>+</span> <span class=mi>32</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;转换后的温度是</span><span class=si>{:.2f}</span><span class=s2>F&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>F</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;输入格式错误&#34;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><h3 id=多变量赋值与交换斐波那契数列 class=heading-element><span>1.4 多变量赋值与交换（斐波那契数列）</span>
<a href=#%e5%a4%9a%e5%8f%98%e9%87%8f%e8%b5%8b%e5%80%bc%e4%b8%8e%e4%ba%a4%e6%8d%a2%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e6%95%b0%e5%88%97 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>python 3.x 版本 <code>end=""</code> 可使输出不换行</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>end</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>)</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>#斐波那契数列</span>
</span></span><span class=line><span class=cl><span class=n>a</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=k>while</span> <span class=n>a</span> <span class=o>&lt;</span> <span class=mi>500</span><span class=p>:</span> <span class=c1>## 输出不大于 500 的序列</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span><span class=n>end</span><span class=o>=</span><span class=s2>&#34;,&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span><span class=p>,</span><span class=n>b</span> <span class=o>=</span> <span class=n>b</span><span class=p>,</span><span class=n>a</span> <span class=o>+</span> <span class=n>b</span> <span class=c1>#交换变量</span></span></span></code></pre></td></tr></table></div></div><h3 id=笑傲江湖统计字符-dict-文件流 class=heading-element><span>1.5 笑傲江湖统计字符 (dict, 文件流）</span>
<a href=#%e7%ac%91%e5%82%b2%e6%b1%9f%e6%b9%96%e7%bb%9f%e8%ae%a1%e5%ad%97%e7%ac%a6-dict-%e6%96%87%e4%bb%b6%e6%b5%81 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><blockquote><p>统计《笑傲江湖》小说中出现的所有中文字符及标点符号的数量，每个字符及数目间用冒号<code>:</code>隔开，例如"笑：1024"，将所有字符及数量的对应采用逗号分隔，以 CSV 文件格式保存到<code>“笑傲江湖--字符统计。txt”</code>文件中。注意，统计字符不包括空格和回车。</p></blockquote><blockquote><p>csv 文件格式： ‘,’逗号连接元素</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>fi</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;data/笑傲江湖 - 网络版。txt&#34;</span><span class=p>,</span><span class=s2>&#34;r&#34;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fo</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;data/笑傲江湖 - 字符统计。txt&#34;</span><span class=p>,</span><span class=s2>&#34;w&#34;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>txt</span> <span class=o>=</span> <span class=n>fi</span><span class=o>.</span><span class=n>read</span><span class=p>()</span> <span class=c1>#打开文件</span>
</span></span><span class=line><span class=cl><span class=c1>#txt</span>
</span></span><span class=line><span class=cl><span class=n>d</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>c</span> <span class=ow>in</span> <span class=n>txt</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>d</span><span class=p>[</span><span class=n>c</span><span class=p>]</span> <span class=o>=</span> <span class=n>d</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>)</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>d</span><span class=p>[</span><span class=s1>&#39; &#39;</span><span class=p>]</span> <span class=c1>#删除字典中的空格和回车的键值对</span>
</span></span><span class=line><span class=cl><span class=k>del</span> <span class=n>d</span><span class=p>[</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ls</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=n>key</span> <span class=ow>in</span> <span class=n>d</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>ls</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>{}</span><span class=s2>:</span><span class=si>{}</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>format</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=n>d</span><span class=p>[</span><span class=n>key</span><span class=p>]))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>fo</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;,&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>ls</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>fi</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>fo</span><span class=o>.</span><span class=n>close</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><a class=lightgallery href=/posts/pysx2/images/tj.png title=文件读取及字符统计结果 data-thumbnail=/posts/pysx2/images/tj.png data-sub-html="<h2>文件读取及字符统计结果</h2>"><img loading=lazy src=/posts/pysx2/images/tj.png alt=文件读取及字符统计结果 height=530 width=1450></a></p><h3 id=numpy-模块 class=heading-element><span>1.6 numpy 模块</span>
<a href=#numpy-%e6%a8%a1%e5%9d%97 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><strong>&mldr;</strong></p><h3 id=pandas-模块 class=heading-element><span>1.7 pandas 模块</span>
<a href=#pandas-%e6%a8%a1%e5%9d%97 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><strong>&mldr;</strong></p><h2 id=620 class=heading-element><span>2 6.20</span>
<a href=#620 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=matplotlib-绘图 class=heading-element><span>2.1 matplotlib 绘图</span>
<a href=#matplotlib-%e7%bb%98%e5%9b%be class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=o>-</span><span class=mi>5</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mf>0.01</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=mi>2</span><span class=o>**</span><span class=n>x</span><span class=o>+</span><span class=mi>1</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>x</span><span class=p>,</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s2>&#34;y=2^x+1&#34;</span><span class=p>,</span><span class=n>fontsize</span><span class=o>=</span><span class=mi>24</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s2>&#34;X&#34;</span><span class=p>,</span><span class=n>fontsize</span><span class=o>=</span><span class=mi>14</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s2>&#34;Y&#34;</span><span class=p>,</span><span class=n>fontsize</span><span class=o>=</span><span class=mi>14</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>tick_params</span><span class=p>(</span><span class=n>axis</span><span class=o>=</span><span class=s2>&#34;both&#34;</span><span class=p>,</span><span class=n>labelsize</span><span class=o>=</span><span class=mi>14</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><a class=lightgallery href=/posts/pysx2/images/zhishu.png title="Y=2X+1" data-thumbnail=/posts/pysx2/images/zhishu.png data-sub-html="<h2>Y=2X+1</h2>"><img loading=lazy src=/posts/pysx2/images/zhishu.png alt="Y=2X+1" height=295 width=395></a></p><h3 id=爬虫 class=heading-element><span>2.2 爬虫</span>
<a href=#%e7%88%ac%e8%99%ab class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>举了一个金融界，炒股，获取数据的爬虫
（今天没仔细听课，这数据爬过什么意思，咱不懂，咱也不敢问！）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#! /usr/bin/env python</span>
</span></span><span class=line><span class=cl><span class=c1>#-*- encoding: utf-8 -*-</span>
</span></span><span class=line><span class=cl><span class=c1>#author pythontab.com</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas_datareader.data</span> <span class=k>as</span> <span class=nn>web</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=cl><span class=c1>#import tushare as ts</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>df_stockload</span> <span class=o>=</span> <span class=n>web</span><span class=o>.</span><span class=n>DataReader</span><span class=p>(</span><span class=s2>&#34;000001.SS&#34;</span><span class=p>,</span> <span class=s2>&#34;yahoo&#34;</span><span class=p>,</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=mi>2017</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>),</span> <span class=n>datetime</span><span class=o>.</span><span class=n>date</span><span class=o>.</span><span class=n>today</span><span class=p>())</span>
</span></span><span class=line><span class=cl><span class=c1>#print(type(datetime.datetime.now().strftime(&#39;%Y-%m-%d&#39;)))</span>
</span></span><span class=line><span class=cl><span class=c1>#df_stockload = ts.get_hist_data(&#39;sh&#39;,start=&#39;2017-01-01&#39;,end=datetime.datetime.now().strftime(&#39;%Y-%m-%d&#39;))</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>columns</span><span class=p>)</span><span class=c1>#查看列名</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>index</span><span class=p>)</span><span class=c1>#查看索引</span>
</span></span><span class=line><span class=cl><span class=nb>print</span> <span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>describe</span><span class=p>())</span><span class=c1>#查看各列数据描述性统计</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#绘制移动平均线</span>
</span></span><span class=line><span class=cl><span class=n>df_stockload</span><span class=o>.</span><span class=n>Close</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>c</span><span class=o>=</span><span class=s1>&#39;b&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>df_stockload</span><span class=o>.</span><span class=n>Close</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=mi>30</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>c</span><span class=o>=</span><span class=s1>&#39;r&#39;</span><span class=p>)</span> <span class=c1>#pd.rolling_mean(df_stockload.Close,window=30).plot(c=&#39;r&#39;)</span>
</span></span><span class=line><span class=cl><span class=n>df_stockload</span><span class=o>.</span><span class=n>Close</span><span class=o>.</span><span class=n>rolling</span><span class=p>(</span><span class=n>window</span><span class=o>=</span><span class=mi>60</span><span class=p>)</span><span class=o>.</span><span class=n>mean</span><span class=p>()</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>c</span><span class=o>=</span><span class=s1>&#39;g&#39;</span><span class=p>)</span> <span class=c1>#pd.rolling_mean(df_stockload.Close,window=60).plot(c=&#39;g&#39;)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>legend</span><span class=p>([</span><span class=s1>&#39;Close&#39;</span><span class=p>,</span><span class=s1>&#39;30ave&#39;</span><span class=p>,</span><span class=s1>&#39;60ave&#39;</span><span class=p>],</span><span class=n>loc</span><span class=o>=</span><span class=s1>&#39;best&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>Index</span><span class=p>([</span><span class=s1>&#39;High&#39;</span><span class=p>,</span> <span class=s1>&#39;Low&#39;</span><span class=p>,</span> <span class=s1>&#39;Open&#39;</span><span class=p>,</span> <span class=s1>&#39;Close&#39;</span><span class=p>,</span> <span class=s1>&#39;Volume&#39;</span><span class=p>,</span> <span class=s1>&#39;Adj Close&#39;</span><span class=p>],</span> <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;object&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>DatetimeIndex</span><span class=p>([</span><span class=s1>&#39;2017-01-03&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-04&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-06&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2017-01-09&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-10&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-11&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-12&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2017-01-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2017-01-16&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=o>...</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2019-06-05&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-06&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-10&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-11&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2019-06-12&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-13&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-14&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-19&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>               <span class=s1>&#39;2019-06-20&#39;</span><span class=p>,</span> <span class=s1>&#39;2019-06-21&#39;</span><span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=n>dtype</span><span class=o>=</span><span class=s1>&#39;datetime64[ns]&#39;</span><span class=p>,</span> <span class=n>name</span><span class=o>=</span><span class=s1>&#39;Date&#39;</span><span class=p>,</span> <span class=n>length</span><span class=o>=</span><span class=mi>596</span><span class=p>,</span> <span class=n>freq</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span>
</span></span><span class=line><span class=cl>              <span class=n>High</span>          <span class=n>Low</span>         <span class=n>Open</span>        <span class=n>Close</span>        <span class=n>Volume</span>  \
</span></span><span class=line><span class=cl><span class=n>count</span>   <span class=mf>596.000000</span>   <span class=mf>596.000000</span>   <span class=mf>596.000000</span>   <span class=mf>596.000000</span>  <span class=mf>5.960000e+02</span>
</span></span><span class=line><span class=cl><span class=n>mean</span>   <span class=mf>3076.147753</span>  <span class=mf>3039.201569</span>  <span class=mf>3056.960338</span>  <span class=mf>3060.169056</span>  <span class=mf>5.098201e+06</span>
</span></span><span class=line><span class=cl><span class=n>std</span>     <span class=mf>269.276147</span>   <span class=mf>273.757358</span>   <span class=mf>271.612122</span>   <span class=mf>272.072346</span>  <span class=mf>1.199107e+08</span>
</span></span><span class=line><span class=cl><span class=nb>min</span>    <span class=mf>2488.479004</span>  <span class=mf>2440.906982</span>  <span class=mf>2446.019043</span>  <span class=mf>2464.363037</span>  <span class=mf>8.820000e+04</span>
</span></span><span class=line><span class=cl><span class=mi>25</span><span class=o>%</span>    <span class=mf>2845.308228</span>  <span class=mf>2800.168762</span>  <span class=mf>2825.239502</span>  <span class=mf>2827.754822</span>  <span class=mf>1.375250e+05</span>
</span></span><span class=line><span class=cl><span class=mi>50</span><span class=o>%</span>    <span class=mf>3153.184937</span>  <span class=mf>3118.613525</span>  <span class=mf>3134.300537</span>  <span class=mf>3139.085449</span>  <span class=mf>1.666500e+05</span>
</span></span><span class=line><span class=cl><span class=mi>75</span><span class=o>%</span>    <span class=mf>3280.115234</span>  <span class=mf>3244.825256</span>  <span class=mf>3265.322021</span>  <span class=mf>3268.600342</span>  <span class=mf>2.091250e+05</span>
</span></span><span class=line><span class=cl><span class=nb>max</span>    <span class=mf>3587.031982</span>  <span class=mf>3534.195068</span>  <span class=mf>3563.639893</span>  <span class=mf>3559.465088</span>  <span class=mf>2.927580e+09</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>         <span class=n>Adj</span> <span class=n>Close</span>
</span></span><span class=line><span class=cl><span class=n>count</span>   <span class=mf>596.000000</span>
</span></span><span class=line><span class=cl><span class=n>mean</span>   <span class=mf>3060.169056</span>
</span></span><span class=line><span class=cl><span class=n>std</span>     <span class=mf>272.072346</span>
</span></span><span class=line><span class=cl><span class=nb>min</span>    <span class=mf>2464.363037</span>
</span></span><span class=line><span class=cl><span class=mi>25</span><span class=o>%</span>    <span class=mf>2827.754822</span>
</span></span><span class=line><span class=cl><span class=mi>50</span><span class=o>%</span>    <span class=mf>3139.085449</span>
</span></span><span class=line><span class=cl><span class=mi>75</span><span class=o>%</span>    <span class=mf>3268.600342</span>
</span></span><span class=line><span class=cl><span class=nb>max</span>    <span class=mf>3559.465088</span></span></span></code></pre></td></tr></table></div></div><p><a class=lightgallery href=/posts/pysx2/images/stock15.png title=生成的图 data-thumbnail=/posts/pysx2/images/stock15.png data-sub-html="<h2>生成的图</h2>"><img loading=lazy src=/posts/pysx2/images/stock15.png alt=生成的图 height=264 width=384></a></p><h2 id=621 class=heading-element><span>3 6.21</span>
<a href=#621 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h2><h3 id=类 class=heading-element><span>3.1 类</span>
<a href=#%e7%b1%bb class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>比第一天稍微仔细一点讲了一下类，有点需要注意：</p><ul><li><code>self</code>相当于<code>this</code>表示当前对象</li><li>python 类的所有函数的第一个参数都要写<code>self</code>参数，self 也可以是其他的比如<code>lrh</code>等字符替代，但是必须保持一致。</li><li><code>__</code>表示私有的</li><li>class 的定义可以不加 (),() 内可写继承的父类</li></ul><h3 id=gui-设计-wxpython class=heading-element><span>3.2 GUI 设计 <a href=https://blog.csdn.net/mist99/article/details/80742548 target=_blank rel="external nofollow noopener noreferrer">wxPython<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></span>
<a href=#gui-%e8%ae%be%e8%ae%a1-wxpython class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip install wxPython</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wx</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wx</span> <span class=c1>#导入 wxPython 库</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Panel</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Panel</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>parent</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>wx</span><span class=o>.</span><span class=n>Panel</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>parent</span><span class=o>=</span><span class=n>parent</span><span class=p>,</span> <span class=nb>id</span><span class=o>=-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Frame</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Frame</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>wx</span><span class=o>.</span><span class=n>Frame</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>title</span> <span class=o>=</span> <span class=sa>u</span><span class=s1>&#39;量化软件&#39;</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span><span class=mi>600</span><span class=p>),</span> <span class=n>style</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>DEFAULT_FRAME_STYLE</span><span class=o>^</span><span class=n>wx</span><span class=o>.</span><span class=n>MAXIMIZE_BOX</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>=</span> <span class=n>Panel</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>App</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>App</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>OnInit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>frame</span> <span class=o>=</span> <span class=n>Frame</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>frame</span><span class=o>.</span><span class=n>Show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetTopWindow</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>frame</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>App</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>MainLoop</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wx</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>app</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>App</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=n>window</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Frame</span><span class=p>(</span><span class=kc>None</span><span class=p>,</span> <span class=n>title</span><span class=o>=</span><span class=s2>&#34;wxPython 你好！&#34;</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>400</span><span class=p>,</span> <span class=mi>300</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>panel</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Panel</span><span class=p>(</span><span class=n>window</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>label</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticText</span><span class=p>(</span><span class=n>panel</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=s2>&#34;Hello World&#34;</span><span class=p>,</span> <span class=n>pos</span><span class=o>=</span><span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>100</span><span class=p>))</span>
</span></span><span class=line><span class=cl><span class=n>window</span><span class=o>.</span><span class=n>Show</span><span class=p>(</span><span class=kc>True</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>app</span><span class=o>.</span><span class=n>MainLoop</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><p><a class=lightgallery href=/posts/pysx2/images/wxpython.png title=运行结果 data-thumbnail=/posts/pysx2/images/wxpython.png data-sub-html="<h2>运行结果</h2>"><img loading=lazy src=/posts/pysx2/images/wxpython.png alt=运行结果 height=366 width=482></a></p><h3 id=talib-库的安装 class=heading-element><span>3.3 talib 库的安装</span>
<a href=#talib-%e5%ba%93%e7%9a%84%e5%ae%89%e8%a3%85 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p><a href=https://www.lfd.uci.edu/~gohlke/pythonlibs/#ta-lib target=_blank rel="external nofollow noopener noreferrer">下载 whl 文件<i class="fa-solid fa-external-link-alt fa-fw fa-xs ms-1 text-secondary" aria-hidden=true></i></a></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pip install TA_Lib-0.4.17-cp37-cp37m-win_amd64.whl
</span></span><span class=line><span class=cl>pip install TA-Lib</span></span></code></pre></td></tr></table></div></div><h3 id=选择排序递归版 class=heading-element><span>3.4 选择排序递归版</span>
<a href=#%e9%80%89%e6%8b%a9%e6%8e%92%e5%ba%8f%e9%80%92%e5%bd%92%e7%89%88 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>def</span> <span class=nf>SelectSort</span><span class=p>(</span><span class=n>L</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>L</span><span class=o>=</span><span class=n>L</span><span class=p>[:]</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>L</span><span class=p>)</span><span class=o>&lt;=</span><span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>L</span>
</span></span><span class=line><span class=cl>    <span class=nb>min</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>L</span><span class=p>)):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>L</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>&lt;</span><span class=n>L</span><span class=p>[</span><span class=nb>min</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>            <span class=nb>min</span> <span class=o>=</span> <span class=n>i</span>
</span></span><span class=line><span class=cl>    <span class=n>L</span><span class=p>[</span><span class=nb>min</span><span class=p>],</span><span class=n>L</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>L</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span><span class=n>L</span><span class=p>[</span><span class=nb>min</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=p>[</span><span class=n>L</span><span class=p>[</span><span class=mi>0</span><span class=p>]]</span><span class=o>+</span><span class=n>SelectSort</span><span class=p>(</span><span class=n>L</span><span class=p>[</span><span class=mi>1</span><span class=p>:])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>L</span> <span class=o>=</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>0</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nb>print</span><span class=p>(</span><span class=n>SelectSort</span><span class=p>(</span><span class=n>L</span><span class=p>))</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>]</span></span></span></code></pre></td></tr></table></div></div><h3 id=机房上机系统自我实践 class=heading-element><span>3.5 机房上机系统（自我实践）</span>
<a href=#%e6%9c%ba%e6%88%bf%e4%b8%8a%e6%9c%ba%e7%b3%bb%e7%bb%9f%e8%87%aa%e6%88%91%e5%ae%9e%e8%b7%b5 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>student</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>stu_no</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=n>stu_name</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=n>stu_xi</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>,</span><span class=n>stu_time</span><span class=o>=</span><span class=s2>&#34;&#34;</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_no</span> <span class=o>=</span> <span class=n>stu_no</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_name</span> <span class=o>=</span> <span class=n>stu_name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_xi</span> <span class=o>=</span> <span class=n>stu_xi</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_time</span> <span class=o>=</span> <span class=n>stu_time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>print</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;学号：&#34;</span><span class=o>+</span><span class=bp>self</span><span class=o>.</span><span class=n>stu_no</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2> 姓名：&#34;</span><span class=o>+</span><span class=bp>self</span><span class=o>.</span><span class=n>stu_name</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2> 系别：&#34;</span><span class=o>+</span><span class=bp>self</span><span class=o>.</span><span class=n>stu_xi</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2> 机时 (h)：&#34;</span><span class=o>+</span><span class=bp>self</span><span class=o>.</span><span class=n>stu_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_stu_name</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>stu_name</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_stu_time</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=nb>int</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stu_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>set_stu_time</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>add_time</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stu_time</span> <span class=o>=</span> <span class=n>add_time</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>menu</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2> 机房上机系统 V0.1&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;********************************&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>—&gt;1. 录入学生信息&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>—&gt;2. 上机&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>—&gt;3. 下机&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>—&gt;4. 缴费&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>—&gt;5. 退出&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;********************************&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>select</span> <span class=o>=</span> <span class=nb>eval</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入序号：&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=n>select</span> <span class=ow>not</span> <span class=ow>in</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>5</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;输入错误，请重新输入！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>select</span> <span class=o>=</span> <span class=nb>eval</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入序号：&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>select</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>get_time</span><span class=p>():</span> <span class=c1>#获取当前时间</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>time</span><span class=o>.</span><span class=n>strftime</span><span class=p>(</span><span class=s2>&#34;%H:%M:%S&#34;</span><span class=p>,</span> <span class=n>time</span><span class=o>.</span><span class=n>localtime</span><span class=p>())</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=c1>## 全局变量</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=p>[]</span> <span class=c1>## 上机记录列表</span>
</span></span><span class=line><span class=cl>    <span class=n>start_time</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>end_time</span> <span class=o>=</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=nb>sum</span> <span class=o>=</span> <span class=mi>0</span> <span class=c1>## 本系统按小时计费，不足一小时按一小时算</span>
</span></span><span class=line><span class=cl>    <span class=n>people</span> <span class=o>=</span> <span class=n>student</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>online_flag</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=n>down_flag</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=n>input_flag</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=kc>True</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>select</span> <span class=o>=</span> <span class=n>menu</span><span class=p>()</span> <span class=c1>## 启用菜单</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>select</span> <span class=o>==</span> <span class=mi>1</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>input_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;已录入，无需重复操作，缴费请输入 4:&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>input_flag</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                <span class=n>stu_no</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入学号：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>stu_name</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入姓名：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>stu_xi</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入系别：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>stu_time</span> <span class=o>=</span> <span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入机时：&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span> <span class=o>=</span> <span class=n>student</span><span class=p>(</span><span class=n>stu_no</span><span class=p>,</span><span class=n>stu_name</span><span class=p>,</span><span class=n>stu_xi</span><span class=p>,</span><span class=n>stu_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>select</span> <span class=o>==</span> <span class=mi>2</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>input_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;未录入学生信息，请录入！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>online_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>online_flag</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                <span class=n>start_time</span> <span class=o>=</span> <span class=n>get_time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>start_num</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>start_time</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=c1>#print(start_num)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>                <span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;上机时间：&#34;</span><span class=o>+</span><span class=n>start_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;已上机！上机时间为：&#34;</span><span class=o>+</span><span class=n>start_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;已上机！上机时间为：&#34;</span><span class=o>+</span><span class=n>start_time</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>select</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>online_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;还未上机，请上机！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>end_time</span> <span class=o>=</span> <span class=n>get_time</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>end_num</span> <span class=o>=</span> <span class=nb>int</span><span class=p>(</span><span class=n>end_time</span><span class=p>[</span><span class=mi>0</span><span class=p>:</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>                <span class=nb>sum</span> <span class=o>=</span> <span class=n>end_num</span> <span class=o>-</span> <span class=n>start_num</span>
</span></span><span class=line><span class=cl>                <span class=nb>sum</span> <span class=o>=</span> <span class=nb>sum</span> <span class=k>if</span><span class=p>(</span><span class=nb>sum</span><span class=o>&gt;=</span><span class=mi>0</span><span class=p>)</span> <span class=k>else</span> <span class=nb>sum</span><span class=o>+</span><span class=mi>24</span>
</span></span><span class=line><span class=cl>                <span class=nb>sum</span> <span class=o>=</span> <span class=nb>sum</span><span class=o>+</span><span class=mi>1</span> <span class=k>if</span><span class=p>(</span><span class=nb>sum</span><span class=o>==</span><span class=mi>0</span><span class=p>)</span> <span class=k>else</span> <span class=nb>sum</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;已下机！下机时间为：&#34;</span><span class=o>+</span><span class=n>end_time</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2> 上机时长 (h)：&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=nb>sum</span><span class=p>)</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2> 剩余机时 (h)：&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>people</span><span class=o>.</span><span class=n>get_stu_time</span><span class=p>()</span><span class=o>-</span><span class=nb>sum</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=s2>&#34;下机时间：&#34;</span><span class=o>+</span><span class=n>end_time</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2> 上机时长 (h)：&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=nb>sum</span><span class=p>)</span><span class=o>+</span><span class=s2>&#34;</span><span class=se>\t</span><span class=s2>&#34;</span><span class=o>+</span><span class=n>people</span><span class=o>.</span><span class=n>get_stu_name</span><span class=p>()</span><span class=o>+</span><span class=s2>&#34;剩余机时 (h)：&#34;</span><span class=o>+</span><span class=nb>str</span><span class=p>(</span><span class=n>people</span><span class=o>.</span><span class=n>get_stu_time</span><span class=p>()</span><span class=o>-</span><span class=nb>sum</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span><span class=o>.</span><span class=n>set_stu_time</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>people</span><span class=o>.</span><span class=n>get_stu_time</span><span class=p>()</span><span class=o>-</span><span class=nb>sum</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>down_flag</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=n>select</span> <span class=o>==</span> <span class=mi>4</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=ow>not</span> <span class=n>input_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;未录入学生信息，请录入！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>                <span class=n>add_time</span> <span class=o>=</span> <span class=nb>eval</span><span class=p>(</span><span class=nb>input</span><span class=p>(</span><span class=s2>&#34;请输入机时：&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span><span class=o>.</span><span class=n>set_stu_time</span><span class=p>(</span><span class=nb>str</span><span class=p>(</span><span class=n>add_time</span><span class=o>+</span><span class=n>people</span><span class=o>.</span><span class=n>get_stu_time</span><span class=p>()))</span>
</span></span><span class=line><span class=cl>                <span class=n>people</span><span class=o>.</span><span class=n>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>down_flag</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;3s 后退出系统，感谢使用！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=n>time</span><span class=o>.</span><span class=n>sleep</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=c1>## 延迟 3s，显示提示文字</span>
</span></span><span class=line><span class=cl>                <span class=k>break</span> <span class=c1>## 退出系统 写入文件</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;请下机！&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>                <span class=k>continue</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>#写入 computer.txt 文件</span>
</span></span><span class=line><span class=cl>    <span class=n>fo</span> <span class=o>=</span> <span class=nb>open</span><span class=p>(</span><span class=s2>&#34;D:</span><span class=se>\\</span><span class=s2>computer.txt&#34;</span><span class=p>,</span><span class=s2>&#34;w&#34;</span><span class=p>,</span><span class=n>encoding</span><span class=o>=</span><span class=s2>&#34;utf-8&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>fo</span><span class=o>.</span><span class=n>write</span><span class=p>(</span><span class=s2>&#34;</span><span class=se>\n</span><span class=s2>&#34;</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>text</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=n>fo</span><span class=o>.</span><span class=n>close</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span><span class=o>==</span><span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div><h3 id=量化交易代码分析与调试 class=heading-element><span>3.6 量化交易代码分析与调试</span>
<a href=#%e9%87%8f%e5%8c%96%e4%ba%a4%e6%98%93%e4%bb%a3%e7%a0%81%e5%88%86%e6%9e%90%e4%b8%8e%e8%b0%83%e8%af%95 class=heading-mark><svg class="octicon octicon-link" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5.0 114.95 4.95l-2.5 2.5a3.5 3.5.0 01-4.95.0.751.751.0 01.018-1.042.751.751.0 011.042-.018 1.998 1.998.0 002.83.0l2.5-2.5a2.002 2.002.0 00-2.83-2.83l-1.25 1.25a.751.751.0 01-1.042-.018.751.751.0 01-.018-1.042zm-4.69 9.64a1.998 1.998.0 002.83.0l1.25-1.25a.751.751.0 011.042.018.751.751.0 01.018 1.042l-1.25 1.25a3.5 3.5.0 11-4.95-4.95l2.5-2.5a3.5 3.5.0 014.95.0.751.751.0 01-.018 1.042.751.751.0 01-1.042.018 1.998 1.998.0 00-2.83.0l-2.5 2.5a1.998 1.998.0 000 2.83z"/></svg></a></h3><p>由于 python 的版本问题和一些库的导入问题所以还未调试成功，先挂上代码。以后改篇再论。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span><span class=lnt>175
</span><span class=lnt>176
</span><span class=lnt>177
</span><span class=lnt>178
</span><span class=lnt>179
</span><span class=lnt>180
</span><span class=lnt>181
</span><span class=lnt>182
</span><span class=lnt>183
</span><span class=lnt>184
</span><span class=lnt>185
</span><span class=lnt>186
</span><span class=lnt>187
</span><span class=lnt>188
</span><span class=lnt>189
</span><span class=lnt>190
</span><span class=lnt>191
</span><span class=lnt>192
</span><span class=lnt>193
</span><span class=lnt>194
</span><span class=lnt>195
</span><span class=lnt>196
</span><span class=lnt>197
</span><span class=lnt>198
</span><span class=lnt>199
</span><span class=lnt>200
</span><span class=lnt>201
</span><span class=lnt>202
</span><span class=lnt>203
</span><span class=lnt>204
</span><span class=lnt>205
</span><span class=lnt>206
</span><span class=lnt>207
</span><span class=lnt>208
</span><span class=lnt>209
</span><span class=lnt>210
</span><span class=lnt>211
</span><span class=lnt>212
</span><span class=lnt>213
</span><span class=lnt>214
</span><span class=lnt>215
</span><span class=lnt>216
</span><span class=lnt>217
</span><span class=lnt>218
</span><span class=lnt>219
</span><span class=lnt>220
</span><span class=lnt>221
</span><span class=lnt>222
</span><span class=lnt>223
</span><span class=lnt>224
</span><span class=lnt>225
</span><span class=lnt>226
</span><span class=lnt>227
</span><span class=lnt>228
</span><span class=lnt>229
</span><span class=lnt>230
</span><span class=lnt>231
</span><span class=lnt>232
</span><span class=lnt>233
</span><span class=lnt>234
</span><span class=lnt>235
</span><span class=lnt>236
</span><span class=lnt>237
</span><span class=lnt>238
</span><span class=lnt>239
</span><span class=lnt>240
</span><span class=lnt>241
</span><span class=lnt>242
</span><span class=lnt>243
</span><span class=lnt>244
</span><span class=lnt>245
</span><span class=lnt>246
</span><span class=lnt>247
</span><span class=lnt>248
</span><span class=lnt>249
</span><span class=lnt>250
</span><span class=lnt>251
</span><span class=lnt>252
</span><span class=lnt>253
</span><span class=lnt>254
</span><span class=lnt>255
</span><span class=lnt>256
</span><span class=lnt>257
</span><span class=lnt>258
</span><span class=lnt>259
</span><span class=lnt>260
</span><span class=lnt>261
</span><span class=lnt>262
</span><span class=lnt>263
</span><span class=lnt>264
</span><span class=lnt>265
</span><span class=lnt>266
</span><span class=lnt>267
</span><span class=lnt>268
</span><span class=lnt>269
</span><span class=lnt>270
</span><span class=lnt>271
</span><span class=lnt>272
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=ch>#! /usr/bin/env python</span>
</span></span><span class=line><span class=cl><span class=c1>#-*- encoding: utf-8 -*-</span>
</span></span><span class=line><span class=cl><span class=c1>#author pythontab.com</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wx</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>wx.adv</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>numpy</span> <span class=k>as</span> <span class=nn>np</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas</span> <span class=k>as</span> <span class=nn>pd</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>pandas_datareader.data</span> <span class=k>as</span> <span class=nn>web</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.pyplot</span> <span class=k>as</span> <span class=nn>plt</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>matplotlib.figure</span> <span class=kn>import</span> <span class=n>Figure</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.dates</span> <span class=k>as</span> <span class=nn>mdates</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>mpl_finance</span> <span class=k>as</span> <span class=nn>mpf</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>matplotlib.backends.backend_wxagg</span> <span class=kn>import</span> <span class=n>FigureCanvasWxAgg</span> <span class=k>as</span> <span class=n>FigureCanvas</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>matplotlib.gridspec</span> <span class=k>as</span> <span class=nn>gridspec</span><span class=c1>#分割子图</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>datetime</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>talib</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>csv</span><span class=o>,</span><span class=nn>os</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>codecs</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>RedefPanelMod</span> <span class=kn>import</span> <span class=n>MPL_Panel_Base</span><span class=p>,</span><span class=n>Loop_Panel_Base</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>StockDataMod</span> <span class=kn>import</span> <span class=n>GetStockDatPro</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>IndicatStrateMod</span> <span class=kn>import</span> <span class=n>Excave_Indic_Base</span><span class=p>,</span> <span class=n>QuantPickTimeSys</span><span class=p>,</span><span class=n>FactorPickStockAng</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>rcParams</span><span class=p>[</span><span class=s1>&#39;font.sans-serif&#39;</span><span class=p>]</span><span class=o>=</span><span class=p>[</span><span class=s1>&#39;SimHei&#39;</span><span class=p>]</span> <span class=c1>#用来正常显示中文标签</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>rcParams</span><span class=p>[</span><span class=s1>&#39;axes.unicode_minus&#39;</span><span class=p>]</span><span class=o>=</span><span class=kc>False</span> <span class=c1>#用来正常显示负号</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>UserDialog</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Dialog</span><span class=p>):</span><span class=c1>## user-defined</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>parent</span><span class=p>,</span><span class=n>text</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>wx</span><span class=o>.</span><span class=n>Dialog</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>parent</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=sa>u</span><span class=s2>&#34;选股提示&#34;</span><span class=p>,</span><span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>400</span><span class=p>,</span><span class=mi>500</span><span class=p>),</span><span class=n>style</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>CAPTION</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CLOSE_BOX</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>MAXIMIZE_BOX</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>MINIMIZE_BOX</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>sizer</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>BoxSizer</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>VERTICAL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>pstock_Text</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticText</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=sa>u</span><span class=s1>&#39;选股策略筛选结果&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>pstock_Text</span><span class=o>.</span><span class=n>SetFont</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Font</span><span class=p>(</span><span class=mi>18</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>DEFAULT</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>NORMAL</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>BOLD</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>pstock_sure</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>TextCtrl</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;角度值：</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>,</span><span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>350</span><span class=p>,</span><span class=mi>300</span><span class=p>),</span><span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>TE_MULTILINE</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>TE_READONLY</span><span class=p>)</span><span class=c1>#多行 | 只读</span>
</span></span><span class=line><span class=cl>        <span class=n>pstock_sure</span><span class=o>.</span><span class=n>SetFont</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Font</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>DEFAULT</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>NORMAL</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>BOLD</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>okbtn</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Button</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>wx</span><span class=o>.</span><span class=n>ID_OK</span><span class=p>,</span><span class=sa>u</span><span class=s2>&#34;确认&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>okbtn</span><span class=o>.</span><span class=n>SetDefault</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>pstock_Text</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>ALIGN_CENTER</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>pstock_sure</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>ALIGN_CENTER</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>okbtn</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>ALIGN_CENTER</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=n>sizer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>text</span><span class=p>:</span><span class=n>pstock_sure</span><span class=o>.</span><span class=n>AppendText</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Frame</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>Frame</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>wx</span><span class=o>.</span><span class=n>Frame</span><span class=o>.</span><span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>parent</span> <span class=o>=</span> <span class=kc>None</span><span class=p>,</span> <span class=n>title</span> <span class=o>=</span> <span class=sa>u</span><span class=s1>&#39;量化软件&#39;</span><span class=p>,</span> <span class=n>size</span><span class=o>=</span><span class=p>(</span><span class=mi>1500</span><span class=p>,</span><span class=mi>800</span><span class=p>),</span>
</span></span><span class=line><span class=cl>                      <span class=n>style</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>DEFAULT_FRAME_STYLE</span><span class=o>^</span><span class=n>wx</span><span class=o>.</span><span class=n>MAXIMIZE_BOX</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#创建显示区面板</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span> <span class=o>=</span> <span class=n>MPL_Panel_Base</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span> <span class=o>=</span> <span class=n>Loop_Panel_Base</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>am</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>am</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>vol</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>vol</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>devol</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>devol</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>macd</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>macd</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#创建参数区面板</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Panel</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Box</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticBox</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=sa>u</span><span class=s1>&#39;参数输入&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticBoxSizer</span><span class=p>(</span><span class=n>paraInput_Box</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>VERTICAL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span> <span class=o>=</span> <span class=p>{</span><span class=sa>u</span><span class=s2>&#34;开山股份&#34;</span><span class=p>:</span><span class=s2>&#34;300257.SZ&#34;</span><span class=p>,</span><span class=sa>u</span><span class=s2>&#34;浙大网新&#34;</span><span class=p>:</span><span class=s2>&#34;600797.SS&#34;</span><span class=p>,</span><span class=sa>u</span><span class=s2>&#34;水晶光电&#34;</span><span class=p>:</span><span class=s2>&#34;002273.SZ&#34;</span><span class=p>,</span> <span class=sa>u</span><span class=s2>&#34;高鸿股份&#34;</span><span class=p>:</span><span class=s2>&#34;000851.SZ&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#初始化股票代码变量</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span> <span class=o>=</span> <span class=sa>u</span><span class=s2>&#34;开山股份&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockCode_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockName_CMBO</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>ComboBox</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span><span class=p>,</span> <span class=n>choices</span> <span class=o>=</span> <span class=nb>list</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=o>.</span><span class=n>keys</span><span class=p>()),</span> <span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>CB_READONLY</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CB_DROPDOWN</span><span class=p>)</span> <span class=c1>#股票名称</span>
</span></span><span class=line><span class=cl>        <span class=n>stockCode_Text</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticText</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=sa>u</span><span class=s1>&#39;股票名称&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       <span class=c1>#策略选取</span>
</span></span><span class=line><span class=cl>        <span class=n>strate_Text</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticText</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=sa>u</span><span class=s1>&#39;策略名称&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>strate_Combo_Val</span> <span class=o>=</span> <span class=p>[</span><span class=sa>u</span><span class=s2>&#34;双趋势融合&#34;</span><span class=p>,</span> <span class=sa>u</span><span class=s2>&#34;阿尔法&#34;</span><span class=p>,</span> <span class=sa>u</span><span class=s2>&#34;布林带&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_Val</span> <span class=o>=</span> <span class=sa>u</span><span class=s2>&#34;双趋势融合&#34;</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_CMBO</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>ComboBox</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_Val</span><span class=p>,</span> <span class=n>choices</span> <span class=o>=</span> <span class=n>strate_Combo_Val</span><span class=p>,</span> <span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>CB_READONLY</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CB_DROPDOWN</span><span class=p>)</span> <span class=c1>#策略名称</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#日历控件选择数据周期</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dpcEndTime</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DatePickerCtrl</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_DROPDOWN</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_SHOWCENTURY</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_ALLOWNONE</span><span class=p>)</span><span class=c1>#结束时间</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dpcStartTime</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DatePickerCtrl</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_DROPDOWN</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_SHOWCENTURY</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>adv</span><span class=o>.</span><span class=n>DP_ALLOWNONE</span><span class=p>)</span><span class=c1>#起始时间</span>
</span></span><span class=line><span class=cl>        <span class=n>DateTimeNow</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>DateTime</span><span class=o>.</span><span class=n>Now</span><span class=p>()</span><span class=c1>#wx.DateTime 格式&#34;03/03/18 00:00:00&#34;</span>
</span></span><span class=line><span class=cl>       <span class=c1>#DateTimeNow = datetime.datetime.fromtimestamp(wx.DateTime.Now().GetTicks())</span>
</span></span><span class=line><span class=cl>       <span class=c1>#DateTimeNow = datetime.datetime.fromtimestamp(DateTimeNow)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dpcEndTime</span><span class=o>.</span><span class=n>SetValue</span><span class=p>(</span><span class=n>DateTimeNow</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>DateTimeNow</span><span class=o>.</span><span class=n>SetYear</span><span class=p>(</span><span class=n>DateTimeNow</span><span class=o>.</span><span class=n>year</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>dpcStartTime</span><span class=o>.</span><span class=n>SetValue</span><span class=p>(</span><span class=n>DateTimeNow</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>stockData_Text</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>StaticText</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=sa>u</span><span class=s1>&#39;日期 (Start-End)&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#初始化时间变量</span>
</span></span><span class=line><span class=cl>        <span class=n>dateVal</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>dpcStartTime</span><span class=o>.</span><span class=n>GetValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockSdate_Val</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=n>dateVal</span><span class=o>.</span><span class=n>year</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>month</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>day</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dateVal</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>dpcEndTime</span><span class=o>.</span><span class=n>GetValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockEdate_Val</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=n>dateVal</span><span class=o>.</span><span class=n>year</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>month</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>day</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>stockCode_Text</span><span class=p>,</span><span class=n>proportion</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=p>,</span><span class=n>border</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_CMBO</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CENTER</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>stockData_Text</span><span class=p>,</span><span class=n>proportion</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=p>,</span><span class=n>border</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>dpcStartTime</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CENTER</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>dpcEndTime</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CENTER</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>strate_Text</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CENTER</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>paraInput_Sizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_CMBO</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>CENTER</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>RadioList</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;不显示&#34;</span><span class=p>,</span><span class=s2>&#34;跳空缺口&#34;</span><span class=p>,</span> <span class=s2>&#34;金叉/死叉&#34;</span><span class=p>,</span> <span class=s2>&#34;N 日突破&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>StratInputBox</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>RadioBox</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=n>label</span><span class=o>=</span><span class=sa>u</span><span class=s1>&#39;指标提示&#39;</span><span class=p>,</span> <span class=n>choices</span><span class=o>=</span><span class=n>RadioList</span><span class=p>,</span><span class=n>majorDimension</span> <span class=o>=</span> <span class=mi>4</span><span class=p>,</span> <span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>RA_SPECIFY_ROWS</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>StratInputBox</span><span class=o>.</span><span class=n>Bind</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>EVT_RADIOBOX</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>OnRadioBox_Indicator</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#初始化指标变量</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>IndicatInput_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>StratInputBox</span><span class=o>.</span><span class=n>GetStringSelection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>TextCtrl</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;交易信息提示：&#34;</span><span class=p>,</span> <span class=n>style</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>TE_MULTILINE</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>TE_READONLY</span><span class=p>)</span><span class=c1>#多行 | 只读</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>vboxnetA</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>BoxSizer</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>VERTICAL</span><span class=p>)</span><span class=c1>#纵向 box</span>
</span></span><span class=line><span class=cl>        <span class=n>vboxnetA</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=n>paraInput_Sizer</span><span class=p>,</span><span class=n>proportion</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>BOTTOM</span><span class=p>,</span><span class=n>border</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span> <span class=c1>#proportion 参数控制容器尺寸比例</span>
</span></span><span class=line><span class=cl>        <span class=n>vboxnetA</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>StratInputBox</span><span class=p>,</span><span class=n>proportion</span><span class=o>=</span><span class=mi>0</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>BOTTOM</span><span class=p>,</span><span class=n>border</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>vboxnetA</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span><span class=p>,</span><span class=n>proportion</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span><span class=n>flag</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=p>,</span><span class=n>border</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=n>vboxnetA</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#创建 Right 面板</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Panel</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#创建 FlexGridSizer 布局网格</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=o>=</span><span class=n>wx</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=p>(</span><span class=n>rows</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>cols</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>vgap</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>hgap</span><span class=o>=</span><span class=mi>3</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#行情按钮</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Firmoffer</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Button</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=s2>&#34;行情&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Firmoffer</span><span class=o>.</span><span class=n>Bind</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>EVT_BUTTON</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>FirmEvent</span><span class=p>)</span><span class=c1>#绑定行情按钮事件</span>
</span></span><span class=line><span class=cl>        <span class=c1>#选股按钮</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Stockpick</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Button</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=s2>&#34;选股&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Stockpick</span><span class=o>.</span><span class=n>Bind</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>EVT_BUTTON</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>PstockpEvent</span><span class=p>)</span><span class=c1>#绑定选股按钮事件</span>
</span></span><span class=line><span class=cl>        <span class=c1>#回测按钮</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Backtrace</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>Button</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=s2>&#34;回测&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>Backtrace</span><span class=o>.</span><span class=n>Bind</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>EVT_BUTTON</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>BackEvent</span><span class=p>)</span><span class=c1>#绑定回测按钮事件</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#加入 Sizer 中</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>Firmoffer</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>ALL</span> <span class=o>|</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>Stockpick</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>ALL</span> <span class=o>|</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>Backtrace</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>5</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>ALL</span> <span class=o>|</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=o>.</span><span class=n>SetFlexibleDirection</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>BOTH</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>FlexGridSizer</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>BoxSizer</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>HORIZONTAL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>ParaPanel</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mf>1.5</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mi>8</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Add</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>CtrlPanel</span><span class=p>,</span><span class=n>proportion</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>border</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span><span class=n>flag</span> <span class=o>=</span> <span class=n>wx</span><span class=o>.</span><span class=n>EXPAND</span><span class=o>|</span><span class=n>wx</span><span class=o>.</span><span class=n>ALL</span> <span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>ProcessStock</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#df_stockload = web.DataReader(&#34;600797.SS&#34;, &#34;yahoo&#34;, datetime.datetime(2017,1,1), datetime.date.today())</span>
</span></span><span class=line><span class=cl>        <span class=n>df_stockload</span> <span class=o>=</span> <span class=n>GetStockDatPro</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockCode_Val</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>stockSdate_Val</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>stockEdate_Val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34; 绘制移动平均线图 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=c1>#self.am.plot(self.numic[0:self.butNum],self.close[0:self.butNum],&#39;#0f0ff0&#39;,linewidth=1.0)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>dispCont_List</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>examp_trade</span><span class=o>=</span> <span class=n>Excave_Indic_Base</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>IndicatInput_Val</span> <span class=o>==</span> <span class=sa>u</span><span class=s2>&#34;金叉/死叉&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_pd</span><span class=p>,</span><span class=n>dispCont_List</span> <span class=o>=</span> <span class=n>examp_trade</span><span class=o>.</span><span class=n>plot_Aver_Cross</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>draw_avercross</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>,</span><span class=n>dispCont_pd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>IndicatInput_Val</span> <span class=o>==</span> <span class=sa>u</span><span class=s2>&#34;跳空缺口&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_pd</span><span class=p>,</span><span class=n>dispCont_List</span> <span class=o>=</span> <span class=n>examp_trade</span><span class=o>.</span><span class=n>plot_Jump_Thrd</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>draw_jumpgap</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>,</span><span class=n>dispCont_pd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>IndicatInput_Val</span> <span class=o>==</span> <span class=sa>u</span><span class=s2>&#34;N 日突破&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_pd</span><span class=p>,</span><span class=n>dispCont_List</span> <span class=o>=</span> <span class=n>examp_trade</span><span class=o>.</span><span class=n>plot_Ndays_Break</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>draw_ndaysbreak</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>,</span><span class=n>dispCont_pd</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_List</span> <span class=o>=</span> <span class=n>dispCont_List</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span><span class=o>.</span><span class=n>SetValue</span><span class=p>(</span><span class=sa>u</span><span class=s2>&#34;指标提示信息如下：&#34;</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>dispCont_List</span><span class=p>:</span><span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span><span class=o>.</span><span class=n>AppendText</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>numic</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>arange</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=nb>len</span><span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>index</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        <span class=n>butNum</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>xylabel_tick_lim</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span><span class=p>,</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>index</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>draw_subgraph</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>,</span><span class=n>numic</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>ProcessLoop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>df_stockload</span> <span class=o>=</span> <span class=n>GetStockDatPro</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockCode_Val</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>stockSdate_Val</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>stockEdate_Val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dispCont_List</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_Val</span> <span class=o>==</span> <span class=sa>u</span><span class=s2>&#34;双趋势融合&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#多趋势融合策略执行 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=n>examp_trade</span><span class=o>=</span> <span class=n>QuantPickTimeSys</span><span class=p>(</span><span class=n>df_stockload</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_List</span> <span class=o>=</span> <span class=n>examp_trade</span><span class=o>.</span><span class=n>run_factor_plot</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>trade</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>total</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>profit</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=c1>#执行其他策略</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span><span class=o>.</span><span class=n>SetValue</span><span class=p>(</span><span class=sa>u</span><span class=s2>&#34;策略提示信息如下：&#34;</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=n>dispCont_List</span><span class=p>:</span><span class=bp>self</span><span class=o>.</span><span class=n>TextAInput</span><span class=o>.</span><span class=n>AppendText</span><span class=p>(</span><span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>xylabel_tick_lim</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reFlashLoop</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>clear_subgraph</span><span class=p>()</span><span class=c1>#必须清理图形才能显示下一幅图</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ProcessLoop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=o>.</span><span class=n>update_subgraph</span><span class=p>()</span><span class=c1>#必须刷新才能显示下一幅图</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>reFlashFrame</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>clear_subgraph</span><span class=p>()</span><span class=c1>#必须清理图形才能显示下一幅图</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>ProcessStock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=o>.</span><span class=n>update_subgraph</span><span class=p>()</span><span class=c1>#必须刷新才能显示下一幅图</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>FirmEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#显示行情面板</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Hide</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Replace</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Show</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#self.HBoxPanel.Remove(self.BackPanel)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Layout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#获取列表股票代码和起始时间</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>stockName_CMBO</span><span class=o>.</span><span class=n>GetString</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_CMBO</span><span class=o>.</span><span class=n>GetSelection</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockCode_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=p>[</span><span class=bp>self</span><span class=o>.</span><span class=n>stockName_Val</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=n>dateVal</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>dpcStartTime</span><span class=o>.</span><span class=n>GetValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockSdate_Val</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=n>dateVal</span><span class=o>.</span><span class=n>year</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>month</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>day</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>dateVal</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>dpcEndTime</span><span class=o>.</span><span class=n>GetValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>stockEdate_Val</span> <span class=o>=</span> <span class=n>datetime</span><span class=o>.</span><span class=n>datetime</span><span class=p>(</span><span class=n>dateVal</span><span class=o>.</span><span class=n>year</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>month</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=n>dateVal</span><span class=o>.</span><span class=n>day</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reFlashFrame</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>BackEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=c1>#显示回测面板</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Hide</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Replace</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>DispPanel</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Show</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>BackPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=c1>#self.HBoxPanel.Remove(self.DispPanel)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetSizer</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>HBoxPanel</span><span class=o>.</span><span class=n>Layout</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>        <span class=c1>#获取策略名称</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_CMBO</span><span class=o>.</span><span class=n>GetString</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>pickstrate_CMBO</span><span class=o>.</span><span class=n>GetSelection</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>reFlashLoop</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>PstockpEvent</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>dispCont_List</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34; 选股策略执行 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>examp_trade</span><span class=o>=</span> <span class=n>FactorPickStockAng</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=k>for</span> <span class=n>index</span><span class=p>,</span> <span class=n>stockName</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=o>.</span><span class=n>keys</span><span class=p>())</span> <span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;stockName&#34;</span><span class=p>,</span><span class=n>stockName</span><span class=p>,</span><span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=p>[</span><span class=n>stockName</span><span class=p>])</span>
</span></span><span class=line><span class=cl>            <span class=n>df_stockload</span> <span class=o>=</span> <span class=n>GetStockDatPro</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>StNameCodedict</span><span class=p>[</span><span class=n>stockName</span><span class=p>],</span><span class=bp>self</span><span class=o>.</span><span class=n>stockSdate_Val</span><span class=p>,</span> <span class=bp>self</span><span class=o>.</span><span class=n>stockEdate_Val</span><span class=p>)</span>
</span></span><span class=line><span class=cl>            <span class=n>df_stockload</span><span class=o>.</span><span class=n>fillna</span><span class=p>(</span><span class=n>method</span><span class=o>=</span><span class=s1>&#39;bfill&#39;</span><span class=p>,</span><span class=n>inplace</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span><span class=c1>#后一个数据填充 NAN1</span>
</span></span><span class=line><span class=cl>            <span class=n>dispCont_List</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>stockName</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=o>+</span><span class=n>examp_trade</span><span class=o>.</span><span class=n>fit_pick</span><span class=p>(</span><span class=n>df_stockload</span><span class=o>.</span><span class=n>Close</span><span class=p>)</span><span class=o>+</span><span class=s1>&#39;</span><span class=se>\n</span><span class=s1>&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>dispCont_List</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34; 选股策略执行 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34; 自定义提示框 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=n>myPickStock</span> <span class=o>=</span> <span class=n>UserDialog</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>dispCont_List</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>myPickStock</span><span class=o>.</span><span class=n>ShowModal</span><span class=p>()</span> <span class=o>==</span> <span class=n>wx</span><span class=o>.</span><span class=n>ID_OK</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>        <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>pass</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;&#34;&#34; 自定义提示框 &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>OnRadioBox_Indicator</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>event</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>IndicatInput_Val</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>StratInputBox</span><span class=o>.</span><span class=n>GetStringSelection</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>App</span><span class=p>(</span><span class=n>wx</span><span class=o>.</span><span class=n>App</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>OnInit</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>frame</span> <span class=o>=</span> <span class=n>Frame</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>frame</span><span class=o>.</span><span class=n>ProcessStock</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>frame</span><span class=o>.</span><span class=n>Show</span><span class=p>()</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>SetTopWindow</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>frame</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s1>&#39;__main__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span> <span class=o>=</span> <span class=n>App</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=n>app</span><span class=o>.</span><span class=n>MainLoop</span><span class=p>()</span></span></span></code></pre></td></tr></table></div></div></div><hr class=awesome-hr><h2 id=see-also>相关内容</h2><ul><li><a href=/posts/pysx1/ title="Python 实训总结Ⅰ">Python 实训总结Ⅰ</a></li><li><a href=/posts/mx2wx/ title="Python 实战：模拟 Post 请求定时获取后台数据并打包发送至微信">Python 实战：模拟 Post 请求定时获取后台数据并打包发送至微信</a></li><li><a href=/posts/pysettime/ title="Python 设置程序每天 8 点定时执行任务">Python 设置程序每天 8 点定时执行任务</a></li><li><a href=/posts/pyinstallererror/ title="安装 Pyinstaller 出错的解决办法及 Csdn 工具实例打包">安装 Pyinstaller 出错的解决办法及 Csdn 工具实例打包</a></li><li><a href=/posts/jsoninfo/ title="Python 如何操作 Json？">Python 如何操作 Json？</a></li></ul><div class=post-reward><div class=comment>Buy me a coffee~</div><input type=checkbox class=reward-input name=reward id=fi-reward hidden>
<label class=reward-button for=fi-reward><i class="fa-solid fa-qrcode fa-fw" aria-hidden=true></i>赞赏</label><div class=reward-ways data-mode=fixed><div><img src=/images/alipay.jpg alt="Lruihao 支付宝"><span data-animation>支付宝</span></div><div><img src=/images/wechatpay.jpg alt="Lruihao 微信"><span data-animation>微信</span></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span title="更新于 2023-12-08 20:26:13">更新于 2023-12-08&nbsp;
<a class=git-hash href=https://github.com/Lruihao/hugo-blog/commit/85367adca11e152e34d5e7f67533ca4b7bbf625e rel="external nofollow noopener noreferrer" target=_blank title="commit by Cell(1024@lruihao.cn) 85367adca11e152e34d5e7f67533ca4b7bbf625e: Docs: 简化本地文章文件夹分类"><i class="fa-solid fa-hashtag fa-fw" aria-hidden=true></i>85367ad</a></span></div><div class=post-info-license><span><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div></div><div class=post-info-line><div class=post-info-md><span><a href=/posts/pysx2/index.md title=阅读原始文档 class=link-to-markdown>阅读原始文档</a></span><span><a href="https://github.com/Lruihao/hugo-blog/blob/docs/content/posts/_backend/_py/pysx2/index.md?plain=1" title=查看源码 target=_blank rel="external nofollow noopener noreferrer" class=link-to-source>查看源码</a></span><span><a href=https://github.com/Lruihao/hugo-blog/edit/docs/content/posts/_backend/_py/pysx2/index.md title=编辑此页 target=_blank rel="external nofollow noopener noreferrer" class=link-to-edit>编辑此页</a></span><span><a href="https://github.com/Lruihao/hugo-blog/issues/new?title=[BUG]%20python+%E5%AE%9E%E8%AE%AD%E6%80%BB%E7%BB%93%E2%85%A1&amp;body=%7cField%7cValue%7c%0A%7c-%7c-%7c%0A%7cTitle%7cpython+%E5%AE%9E%E8%AE%AD%E6%80%BB%E7%BB%93%E2%85%A1%7c%0A%7cURL%7chttps://lruihao.cn/posts/pysx2/%7c%0A%7cFilename%7chttps://github.com/Lruihao/hugo-blog/blob/docs/content/posts/_backend/_py/pysx2/index.md?plain=1%7c" title=报告问题 target=_blank rel="external nofollow noopener noreferrer" class=link-to-report>报告问题</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 X" data-sharer=twitter data-url=https://lruihao.cn/posts/pysx2/ data-title="Python 实训总结Ⅱ" data-hashtags=Python><i class="fa-brands fa-x-twitter fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://lruihao.cn/posts/pysx2/ data-hashtag=Python><i class="fa-brands fa-facebook-square fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 Linkedin" data-sharer=linkedin data-url=https://lruihao.cn/posts/pysx2/><i class="fa-brands fa-linkedin fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://lruihao.cn/posts/pysx2/ data-title="Python 实训总结Ⅱ" data-ralateuid=liahao><i class="fa-brands fa-weibo fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); title="分享到 百度" data-sharer=baidu data-url=https://lruihao.cn/posts/pysx2/ data-title="Python 实训总结Ⅱ"><i data-svg-src=https://unpkg.com/simple-icons@9.19.0/icons/baidu.svg aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fa-solid fa-tags fa-fw me-1" aria-hidden=true></i><a href=/tags/python/ class=post-tag title="标签 - python">python</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/posts/pysx1/ class=post-nav-item rel=prev title="Python 实训总结Ⅰ"><i class="fa-solid fa-angle-left fa-fw" aria-hidden=true></i>Python 实训总结Ⅰ</a><a href=/posts/wamproot/ class=post-nav-item rel=next title="WAMPServer 自定义网站根目录等设置">WAMPServer 自定义网站根目录等设置<i class="fa-solid fa-angle-right fa-fw" aria-hidden=true></i></a></div></div><div class=post-footer__after><div class="d-none-desktop text-center"><img src=/images/wxmp.webp alt=微信公众号 width=70%></div></div><div id=comments><div id=giscus class=comment><script src=https://giscus.app/client.js data-repo=Lruihao/hugo-blog data-repo-id="MDEwOlJlcG9zaXRvcnk0MDQzNDY3MDk=" data-category=General data-category-id=DIC_kwDOGBnXVc4CApHL data-mapping=title data-strict=0 data-theme=preferred_color_scheme data-reactions-enabled=1 data-emit-metadata=0 data-input-position=top data-lang=zh-CN data-loading=lazy crossorigin=anonymous async defer></script></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app/ rel="external nofollow noopener noreferrer">giscus</a>.</noscript></div></article><aside class=toc id=toc-auto aria-label=目录><h2 class=toc-title>目录&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden=true></i></h2><div class=toc-content id=toc-content-auto></div></aside></main><footer class=footer><div class=footer-container><div class="footer-line powered order-1">由 <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreferrer" title="Hugo 0.145.0"><img class=hugo-icon src=/images/hugo.min.svg alt="Hugo logo"> Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/hugo-fixit/FixIt target=_blank rel=external title="FixIt v0.3.17-2b936cb6"><img class=fixit-icon src=/images/fixit.min.svg alt="FixIt logo"> FixIt</a></div><div class="footer-line copyright order-2" itemscope itemtype=http://schema.org/CreativeWork><i class="fa-regular fa-copyright fa-fw" aria-hidden=true></i>
<span itemprop=copyrightYear>2018 - 2025</span><span class=author itemprop=copyrightHolder>
<a href=https://github.com/Lruihao target=_blank rel="external nofollow noopener noreferrer">Lruihao</a></span><span class="license footer-divider"><a rel="license external nofollow noopener noreferrer" href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a></span></div><div class="footer-line statistics order-3"><span class=site-time title=网站运行中……><i class="fa-solid fa-heartbeat fa-fw animate-icon" aria-hidden=true></i><span class="ms-1 d-none">博客已运行</span><span class="run-times ms-1">网站运行中……</span></span></div><div class="footer-line visitor order-4"><span id=busuanzi_container_site_uv title=总访客数><i class="fa-regular fa-user fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span><span id=busuanzi_container_site_pv class=footer-divider title=总访问量><i class="fa-regular fa-eye fa-fw me-1" aria-hidden=true></i><span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin fa-fw" aria-hidden=true></i></span></span></div></div></footer></div><div class=widgets><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role=button aria-label=回到顶部><i class="fa-solid fa-arrow-up fa-fw" aria-hidden=true></i><span class=variant-numeric>0%</span></div><div class="fixed-button view-comments d-none" role=button aria-label=查看评论><i class="fa-solid fa-comment fa-fw" aria-hidden=true></i></div></div><a href=https://github.com/Lruihao/hugo-blog title="在 GitHub 上查看源码，订阅请点 Watch~" target=_blank rel="external nofollow" class="github-corner right d-none-mobile"><svg viewBox="0 0 250 250" aria-hidden="true" width="56" height="56"><path d="M0 0 115 115h15l12 27L250 250V0z"/><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentcolor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4l13.9-13.8C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8z" fill="currentcolor" class="octo-body"/></svg></a><div id=mask></div><div class=reading-progress-bar style=left:0;top:0;--bg-progress:#8581dd;--bg-progress-dark:#fff></div><noscript><div class=noscript-warning>该网站在启用 JavaScript 的情况下效果最佳。</div></noscript></div><link rel=stylesheet href=https://unpkg.com/lightgallery@2.7.2/css/lightgallery-bundle.min.css><link rel=stylesheet href=https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.css><link rel=stylesheet href=https://unpkg.com/pace-js@1.2.4/themes/blue/pace-theme-minimal.css><link rel=stylesheet href=https://ai.tianli0.top/static/public/postChatUser_summary.min.css><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.js?features=Array.prototype.fill%2CArray.prototype.find%2CArray.from%2CIntersectionObserver%2CMath.sign%2CObject.assign%2CPromise%2CObject.entries%2Chtml5shiv%2CObject.values%2Cfetch%2CElement.prototype.after"></script><script src=https://unpkg.com/autocomplete.js@0.38.1/dist/autocomplete.min.js defer></script><script src=https://unpkg.com/algoliasearch@4.20.0/dist/algoliasearch-lite.umd.js defer></script><script src=https://unpkg.com/instant.page@5.2.0/instantpage.js async defer type=module></script><script src=https://unpkg.com/lightgallery@2.7.2/lightgallery.min.js defer></script><script src=https://unpkg.com/lightgallery@2.7.2/plugins/thumbnail/lg-thumbnail.min.js defer></script><script src=https://unpkg.com/lightgallery@2.7.2/plugins/zoom/lg-zoom.min.js defer></script><script src=https://unpkg.com/sharer.js@0.5.1/sharer.min.js async defer></script><script src=https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.js defer></script><script src=https://unpkg.com/pangu@4.0.7/dist/browser/pangu.min.js defer></script><script src=https://unpkg.com/cell-watermark@1.0.3/src/watermark.min.js defer></script><script src=https://vercount.one/js async defer></script><script src=https://unpkg.com/pace-js@1.2.4/pace.min.js async defer></script><script>let tianliGPT_postSelector="#content",tianliGPT_wordLimit=5e3,tianliGPT_recommendation=!0;var postChatConfig={addButton:!0,backgroundColor:"#6a64d5",blackDom:[".expiration-reminder","meting-js",".lnt"],bottom:"",defaultChatQuestions:["你是谁?","Lruihao 是谁?","作者的开源项目有哪些？"],defaultInput:!1,defaultSearchQuestions:["给你的 Markdown 挑挑刺","中文技术文档的写作规范","语义版本控制（SemVer）","Vue.js 相关的文章","FixIt 相关的文档","现代 CSS 解决方案","拖拽式仪表盘系列 ","程序猿的自我修养","CSS 奇技淫巧","作者的随笔"],fill:"",frameHeight:"",frameWidth:"",height:"",left:"",showInviteLink:!0,upLoadWeb:!0,userDesc:"如果你对网站的内容有任何疑问，可以来问我哦～",userIcon:"/images/avatar.jpg",userMode:"magic",userTitle:"Cell+",width:""}</script><script src=https://ai.tianli0.top/static/public/postChatUser_summary.min.js defer data-postchat_key=ed872bf9336506bea545183089f5034f81fea6af></script><script>window.config={autoBookmark:!0,code:{copyTitle:"复制到剪贴板",editLockTitle:"锁定可编辑代码块",editUnLockTitle:"解锁可编辑代码块",editable:!0,maxShownLines:50},comment:{enable:!0,expired:!0,giscus:{darkTheme:"dark_dimmed",lightTheme:"light",origin:"https://giscus.app"}},cookieconsent:{content:{dismiss:"同意",link:"了解更多",message:"本网站使用 Cookies 来改善您的浏览体验。"},enable:!0,palette:{button:{background:"#f0f0f0"},popup:{background:"#1aa3ff"}},theme:"edgeless"},enablePWA:!0,lightgallery:!0,pangu:{enable:!0,selector:"article"},search:{algoliaAppID:"MTJNHU0JVB",algoliaIndex:"index",algoliaSearchKey:"5486225134d99f43826da401ee9bad57",highlightTag:"em",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"algolia"},siteTime:"2018-05-28T20:01:01+08:00",version:"v0.3.17-2b936cb6",watermark:{colspacing:30,content:'<img style="height: 0.85rem;" src="/logo.webp" alt="logo" /> 李瑞豪',enable:!0,fontfamily:"MMT_LRH,沐目体",fontsize:1.1,height:20,opacity:.0125,rotate:15,rowspacing:60,width:150}}</script><script src=/js/theme.min.js defer></script><script src=/js/flyfish.min.js defer></script><script src=/lib/translate.min.js defer></script><script>window.ATConfig={hugoLangCodes:["zh-CN"],hugoLangMap:{"zh-CN":"/posts/pysx2/"}}</script><script src=/js/translate.fixit.min.js defer></script><script src=/js/custom.min.js defer></script><script async defer data-website-id=4049c0b0-87c9-4573-8ae5-d84449e40e05 src=https://cloud.umami.is/script.js></script></body></html>